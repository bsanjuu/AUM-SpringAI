# Production Profile Configuration
# Overrides and additions for production environment

spring:
  # Production Database
  datasource:
    url: ${DATABASE_URL}
    username: ${DATABASE_USERNAME}
    password: ${DATABASE_PASSWORD}
    hikari:
      maximum-pool-size: 20
      minimum-idle: 10
      
  # JPA Configuration for Production
  jpa:
    show-sql: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: false
        use_sql_comments: false
        
  # Production AI Provider
  ai:
    openai:
      api-key: ${OPENAI_API_KEY}
    vectorstore:
      pgvector:
        enabled: true
        
  # Production Cache (larger size, longer TTL)
  cache:
    caffeine:
      spec: maximumSize=1000,expireAfterWrite=2h

# Production-specific App Configuration
app:
  ai:
    provider: openai
    enable-caching: true
    enable-metrics: true
    
  security:
    cors:
      allowed-origins: ${CORS_ALLOWED_ORIGINS}
      
  scheduler:
    enabled: true

# Production Logging (less verbose)
logging:
  level:
    root: WARN
    com.bsanju.aum: INFO
    org.springframework.ai: INFO
    org.springframework.web: WARN
    org.hibernate.SQL: WARN
  file:
    name: /var/log/aum-spring-ai/application.log
    max-size: 50MB
    max-history: 90

# Production Server
server:
  port: ${SERVER_PORT:8080}
  compression:
    enabled: true
  error:
    include-stacktrace: never
    include-exception: false
    include-message: always

# Production Actuator (restricted)
management:
  endpoints:
    web:
      exposure:
        include: health,metrics,prometheus
  endpoint:
    health:
      show-details: never
